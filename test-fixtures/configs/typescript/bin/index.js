#!/usr/bin/env node

/**
 * Binary entry point for testts
 * Generated by Goobits CLI Framework using Universal Templates
 */

// Import and run the CLI from the main entry point
// Try compiled JS first, fall back to TypeScript with ts-node for dev/test environments
try {
  const { cli } = await import('../index.js');
  cli();
} catch (err) {
  if (err.code === 'ERR_MODULE_NOT_FOUND') {
    // Compiled JS not found, try TypeScript with ts-node
    try {
      const tsNode = await import('ts-node');
      tsNode.register({ esm: true });
      const { cli } = await import('../index.ts');
      cli();
    } catch (tsErr) {
      console.error('Failed to run CLI: compiled JS not found and TypeScript execution failed');
      console.error('Run "npm run build" to compile TypeScript, or install ts-node for development');
      process.exit(1);
    }
  } else {
    throw err;
  }
}
