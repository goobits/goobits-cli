#!/usr/bin/env node
/**
 * JavaScript entry point for Test TypeScript CLI
 * Generated by Goobits CLI Framework - Simple wrapper for testing
 */

import { Command } from 'commander';

const program = new Command();

program
  .name('testts')
  .description('Testing TypeScript generation')
  .version('1.0.0');


// Commands
program
  .command('hello')
  .description('Say hello')
  .action(async (options) => {
    // Simple test response for integration tests
    if (process.argv.includes('--help')) {
      console.log('Usage: testts hello [options]');
      return;
    }
    console.log('testts hello - Integration test mode');
    console.log('Command executed successfully!');
  });
program
  .command('build')
  .description('Build something')
  .action(async (options) => {
    // Simple test response for integration tests
    if (process.argv.includes('--help')) {
      console.log('Usage: testts build [options]');
      return;
    }
    console.log('testts build - Integration test mode');
    console.log('Command executed successfully!');
  });
program
  .command('serve')
  .description('Start server')
  .action(async (options) => {
    // Simple test response for integration tests
    if (process.argv.includes('--help')) {
      console.log('Usage: testts serve [options]');
      return;
    }
    console.log('testts serve - Integration test mode');
    console.log('Command executed successfully!');
  });

// Handle --help and --version at root level
if (process.argv.includes('--help') || process.argv.length === 2) {
  program.outputHelp();
  process.exit(0);
}

if (process.argv.includes('--version')) {
  console.log('1.0.0');
  process.exit(0);
}

// Parse and execute
try {
  await program.parseAsync(process.argv);
} catch (error) {
  console.error('Error:', error.message);
  process.exit(1);
}