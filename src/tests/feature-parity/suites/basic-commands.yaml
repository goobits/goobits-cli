suite_name: basic-commands
description: Core command parity checks across supported runtimes

setup:
  goobits_config: ../../../../examples/basic-demos/python-example.yaml
  cleanup: true

tests:
  - name: help_command
    description: Root help exposes core commands
    command: --help
    stdout:
      contains:
        - "hello"
        - "config"
        - "echo"

  - name: hello_basic
    description: Basic hello command with required argument
    command: hello World
    stdout:
      contains:
        - "World"

  - name: hello_with_custom_greeting
    description: Hello command with custom greeting option
    command: hello --greeting "Greetings" Universe
    stdout:
      contains:
        - "Greetings"
        - "Universe"

  - name: hello_with_short_option
    description: Hello command with short option
    command: hello -g "Hey" Friend
    stdout:
      contains:
        - "Hey"
        - "Friend"

  - name: hello_missing_argument
    description: Missing required arg returns usage error
    command: hello
    exit_code: 2
    language_overrides:
      nodejs:
        exit_code: 1
      rust:
        exit_code: 2

  - name: echo_single_word
    description: Echo command with single word
    command: echo test
    stdout:
      contains:
        - "test"

  - name: unknown_command
    description: Unknown command returns non-success
    command: unknown
    exit_code: 2
    stderr:
      contains:
        - "unknown"
    language_overrides:
      nodejs:
        exit_code: 1

  - name: command_help
    description: Command-specific help includes options
    command: hello --help
    stdout:
      contains:
        - "hello"
        - "--greeting"
