language: rust
package_name: complex-rust-cli
command_name: complex
display_name: "ComplexRustCLI"
description: "A complex Rust CLI with subcommands for comprehensive testing"

python:
  minimum_version: "3.8"

dependencies:
  core: []

installation:
  pypi_name: "complex-rust-cli"
  github_repo: "example/complex-rust-cli"

shell_integration:
  alias: "complex"

validation:
  minimum_disk_space_mb: 100

messages:
  install_success: "ComplexRustCLI installed successfully!"

cli:
  name: "ComplexRustCLI"
  tagline: "A complex Rust CLI for comprehensive testing"
  version: "1.0.0"
  options:
    - name: debug
      short: d
      type: flag
      desc: "Enable debug mode"
    - name: config
      short: c
      type: str
      desc: "Path to configuration file"
  commands:
    server:
      desc: "Server management"
      subcommands:
        start:
          desc: "Start the server"
          args:
            - name: host
              desc: "Host to bind to"
              required: false
          options:
            - name: port
              short: p
              type: int
              desc: "Port to listen on"
              default: 8080
            - name: workers
              short: w
              type: int
              desc: "Number of worker threads"
              default: 4
            - name: daemon
              type: flag
              desc: "Run as daemon"
        stop:
          desc: "Stop the server"
          options:
            - name: graceful
              short: g
              type: flag
              desc: "Graceful shutdown"
            - name: timeout
              short: t
              type: int
              desc: "Timeout in seconds"
              default: 30
        restart:
          desc: "Restart the server"
          args:
            - name: service
              desc: "Service name to restart"
              required: false
    database:
      desc: "Database operations"
      subcommands:
        migrate:
          desc: "Run database migrations"
          options:
            - name: direction
              type: str
              desc: "Migration direction"
              choices: ["up", "down"]
              default: "up"
            - name: steps
              type: int
              desc: "Number of migrations to run"
        seed:
          desc: "Seed the database"
          args:
            - name: dataset
              desc: "Dataset to seed"
              required: false
          options:
            - name: truncate
              type: flag
              desc: "Truncate tables before seeding"
            - name: batch-size
              type: int
              desc: "Batch size for seeding"
              default: 1000
    files:
      desc: "File operations"
      args:
        - name: action
          desc: "Action to perform"
          required: true
          choices: ["list", "copy", "move", "delete"]
      options:
        - name: recursive
          short: r
          type: flag
          desc: "Recursive operation"
        - name: pattern
          short: p
          type: str
          desc: "File pattern to match"
    monitor:
      desc: "System monitoring"
      options:
        - name: interval
          short: i
          type: int
          desc: "Monitoring interval in seconds"
          default: 5
        - name: duration
          short: d
          type: int
          desc: "Monitoring duration in minutes"
        - name: output-file
          short: o
          type: str
          desc: "Output file for monitoring data"