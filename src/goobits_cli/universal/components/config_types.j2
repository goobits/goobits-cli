{#
Universal Component: Configuration types definition for TypeScript
This template generates TypeScript type definitions for configuration.
#}
/**
 * Configuration types for {{ project.name }} CLI
 * Generated by Goobits CLI Framework
 */

export interface BaseConfig {
  debug?: boolean;
  verbose?: boolean;
  configPath?: string;
  [key: string]: any;
}

export interface GlobalConfig extends BaseConfig {
  {%- if cli and cli.global_options %}
  {%- for option in cli.global_options %}
  {{ option.name | camelCase }}?: {{ option.type | ts_type }};
  {%- endfor %}
  {%- endif %}
}

export interface EnvironmentConfig {
  NODE_ENV?: string;
  DEBUG?: string;
  CONFIG_PATH?: string;
  HOME?: string;
  PWD?: string;
}

export interface ProjectConfig {
  name?: string;
  version?: string;
  description?: string;
  repository?: string;
  homepage?: string;
  bugsUrl?: string;
  keywords?: string[];
  author?: string;
  license?: string;
}

export interface CLIConfig extends BaseConfig {
  project?: ProjectConfig;
  environment?: EnvironmentConfig;
  {%- if cli and cli.root_command and cli.root_command.subcommands %}
  commands?: {
    {%- for command in cli.root_command.subcommands %}
    {{ command.name | camelCase }}?: {{ command.name | PascalCase }}Config;
    {%- endfor %}
  };
  {%- endif %}
}

{%- if cli and cli.root_command and cli.root_command.subcommands %}
{%- for command in cli.root_command.subcommands %}

export interface {{ command.name | PascalCase }}Config {
  {%- if command.options %}
  {%- for option in command.options %}
  {{ option.name | camelCase }}?: {{ option.type | ts_type }};
  {%- endfor %}
  {%- endif %}
  [key: string]: any;
}
{%- endfor %}
{%- endif %}

export interface ConfigManager {
  load(path?: string): Promise<CLIConfig>;
  save(config: CLIConfig, path?: string): Promise<void>;
  validate(config: any): CLIConfig;
  merge(...configs: Partial<CLIConfig>[]): CLIConfig;
  getDefaults(): CLIConfig;
}