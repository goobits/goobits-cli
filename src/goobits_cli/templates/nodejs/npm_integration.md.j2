# NPM Integration for {{ display_name }}

This document explains how the Node.js CLI integrates with the existing npm infrastructure in goobits-cli.

## Integration Points

### 1. Installation Extras (from install.sh.j2)

The main `install.sh.j2` template already supports npm extras through:

```yaml
installation:
  extras:
    npm:
      - "package-name@version"
      - "another-package"
```

These npm packages are installed globally after the main Python package installation.

### 2. Node.js-Specific Setup

The Node.js generator creates additional files:

- **setup.sh**: Node.js-specific setup script for npm installations
- **package.json**: NPM manifest with dependencies
- **scripts/postinstall.js**: Post-installation configuration
- **lib/config.js**: Configuration management library

### 3. Development Workflow

For Node.js CLI development:

```bash
# Install dependencies and link globally
npm install
npm link

# Or use the setup script
./setup.sh --dev
```

### 4. Global Installation

For production deployment:

```bash
# From npm registry
npm install -g {{ package_name }}

# Or using setup script
./setup.sh --global
```

### 5. Cross-Platform Support

The Node.js setup includes:

- Platform-specific config directories
- Windows command wrappers (.cmd files)
- Environment variable support
- XDG Base Directory compliance on Linux

### 6. Configuration Management

Configuration locations:

- **Linux**: `~/.config/{{ package_name }}/`
- **macOS**: `~/Library/Application Support/{{ package_name }}/`
- **Windows**: `%APPDATA%\{{ package_name }}\`

Environment variables:

- Prefix: `{{ package_name | upper | replace('-', '_') }}_`
- Example: `{{ package_name | upper | replace('-', '_') }}_API_KEY=xxx`