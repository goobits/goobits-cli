#!/usr/bin/env node
/**
 * JavaScript entry point for Demo TypeScript CLI
 * Generated by Goobits CLI Framework - Simple wrapper for testing
 */

import { Command } from 'commander';

const program = new Command();

program
  .name('demo_ts')
  .description('A sample TypeScript CLI built with Goobits')
  .version('1.0.0');


// Commands
program
  .command('greet')
  .description('Greet someone with style')
  .argument('name', 'Name to greet')
  .argument('message', 'Custom greeting message')
  .option('--style', 'Greeting style')
  .option('--count', 'Repeat greeting N times')
  .option('--uppercase', 'Convert to uppercase')
  .option('--language', 'Language code')
  .action(async (name, message, options) => {
    // Simple test response for integration tests
    if (process.argv.includes('--help')) {
      console.log('Usage: demo_ts greet [options]');
      console.log('  name: Name to greet');
      console.log('  message: Custom greeting message');
      console.log('  --style: Greeting style');
      console.log('  --count: Repeat greeting N times');
      console.log('  --uppercase: Convert to uppercase');
      console.log('  --language: Language code');
      return;
    }
    console.log('demo_ts greet - Integration test mode');
    console.log('Command executed successfully!');
  });
program
  .command('info')
  .description('Display system and environment information')
  .option('--format', 'Output format')
  .option('--verbose', 'Show detailed information')
  .option('--sections', 'Comma-separated sections to show')
  .action(async (options) => {
    // Simple test response for integration tests
    if (process.argv.includes('--help')) {
      console.log('Usage: demo_ts info [options]');
      console.log('  --format: Output format');
      console.log('  --verbose: Show detailed information');
      console.log('  --sections: Comma-separated sections to show');
      return;
    }
    console.log('demo_ts info - Integration test mode');
    console.log('Command executed successfully!');
  });

// Handle --help and --version at root level
if (process.argv.includes('--help') || process.argv.length === 2) {
  program.outputHelp();
  process.exit(0);
}

if (process.argv.includes('--version')) {
  console.log('1.0.0');
  process.exit(0);
}

// Parse and execute
try {
  await program.parseAsync(process.argv);
} catch (error) {
  console.error('Error:', error.message);
  process.exit(1);
}