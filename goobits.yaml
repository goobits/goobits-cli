# Goobits CLI Framework - Self-hosting configuration
# This file allows goobits-cli to build itself using its own framework

package_name: goobits-cli
command_name: goobits
display_name: "Goobits CLI Framework"
description: "Build professional command-line tools with YAML configuration"
# language: python  # Default language (can be overridden with nodejs, typescript, rust)

# CLI generation configuration
cli_path: "src/goobits_cli/generated_cli.py"
cli_hooks_path: "cli_hooks.py"  # Path to hooks file with business logic

python:
  minimum_version: "3.8"
  maximum_version: "3.13"

dependencies:
  required: []
  optional: []

installation:
  pypi_name: goobits-cli
  development_path: "."
  setup_path: "scripts/setup.sh"  # Output to scripts directory
  extras:
    python: ["dev", "test"]
    apt: ["git", "python3-dev", "curl", "wget", "pipx"]

shell_integration:
  enabled: false
  alias: goobits

validation:
  check_api_keys: false
  check_disk_space: true
  minimum_disk_space_mb: 100

messages:
  install_success: |
    ğŸ‰ Goobits CLI Framework has been installed successfully!

    Get started with:
      mkdir my-awesome-cli && cd my-awesome-cli
      goobits init        # Create initial goobits.yaml
      goobits build       # Generate CLI and setup scripts
      ./scripts/setup.sh install --dev

    Visit https://github.com/goobits/goobits-cli for documentation.
  
  install_dev_success: |
    ğŸš€ Goobits CLI Framework installed in development mode!
    âœ… Your changes to the framework will be reflected immediately.
    
    Development workflow:
      - Edit source code in src/goobits_cli/
      - Test immediately with: goobits build
      - Run tests with: python -m pytest
      
    ğŸ’¡ Framework changes take effect without reinstalling!
  
  upgrade_success: |
    ğŸ†™ Goobits CLI Framework has been upgraded successfully!
    Check out the latest features with: goobits --version

cli:
  name: "Goobits CLI"
  version: "3.0.1"
  display_version: true
  tagline: "Build professional command-line tools with YAML configuration"
  description: "Transform simple YAML configuration into rich terminal applications with setup scripts, dependency management, and cross-platform compatibility."
  icon: "ğŸ› ï¸"
  enable_recursive_help: true
  enable_help_json: false
  
  options:
    - name: "verbose"
      short: "v"
      type: "flag"
      desc: "Enable verbose output with detailed error messages and stack traces"
  
  header_sections:
    - title: "ğŸš€ Quick Start"
      items:
        - { item: 'mkdir my-cli && cd my-cli', desc: "Create new project directory", style: "example" }
        - { item: 'goobits init', desc: "Generate initial goobits.yaml", style: "example" }
        - { item: 'goobits build', desc: "Create CLI and setup scripts", style: "example" }
        - { item: './scripts/setup.sh install --dev', desc: "Install for development", style: "example" }

    - title: "ğŸ’¡ Core Commands"
      items:
        - { item: "build", desc: "ğŸ”¨ Generate CLI and setup scripts from goobits.yaml", style: "command" }
        - { item: "init", desc: "ğŸ†• Create initial goobits.yaml template", style: "command" }

    - title: "ğŸ”§ Development Workflow"
      items:
        - { item: "1. Edit goobits.yaml", desc: "Define your CLI structure", style: "setup" }
        - { item: "2. goobits build", desc: "Generate implementation files", style: "setup" }
        - { item: "3. Edit cli_hooks.py", desc: "Add your business logic", style: "setup" }
  
  footer_note: "ğŸ“š For detailed help on a command, run: [color(2)]goobits [COMMAND][/color(2)] [#ff79c6]--help[/#ff79c6]"
  
  command_groups:
    - name: "Core Commands"
      commands: ["build", "init", "validate"]
    - name: "Development Tools"
      commands: ["migrate"]

  commands:
    build:
      desc: "Build CLI and setup scripts from goobits.yaml configuration"
      icon: "ğŸ”¨"
      is_default: true
      args:
        - name: "config_path"
          desc: "Path to goobits.yaml file (defaults to ./goobits.yaml)"
          required: false
      options:
        - name: "output-dir"
          short: "o"
          type: "str"
          desc: "ğŸ“ Output directory (defaults to same directory as config file)"
        - name: "output"
          type: "str"
          desc: "ğŸ“ Output filename for generated CLI (defaults to 'generated_cli.py')"
        - name: "backup"
          type: "flag"
          desc: "ğŸ’¾ Create backup files (.bak) when overwriting existing files"
    
    init:
      desc: "Create initial goobits.yaml template"
      icon: "ğŸ†•"
      args:
        - name: "project_name"
          desc: "Name of the project (optional)"
          required: false
      options:
        - name: "template"
          short: "t"
          type: "str"
          desc: "ğŸ¯ Template type"
          choices: ["basic", "advanced", "api-client", "text-processor"]
          default: "basic"
        - name: "force"
          type: "flag"
          desc: "ğŸ”¥ Overwrite existing goobits.yaml file"
    
    validate:
      desc: "Validate goobits.yaml configuration without generating files"
      icon: "âœ…"
      args:
        - name: "config_path"
          desc: "Path to goobits.yaml file (defaults to ./goobits.yaml)"
          required: false
      options:
        - name: "verbose"
          short: "v"
          type: "flag"
          desc: "ğŸ“‹ Show detailed validation information"
    
    migrate:
      desc: "Migrate YAML configurations to 3.0.0 format"
      icon: "ğŸ”„"
      args:
        - name: "path"
          desc: "Path to YAML file or directory to migrate"
          required: true
      options:
        - name: "backup"
          type: "flag"
          desc: "ğŸ’¾ Create backup files (.bak)"
          default: true
        - name: "dry-run"
          type: "flag"
          desc: "ğŸ‘ï¸ Show changes without applying them"
        - name: "pattern"
          type: "str"
          desc: "ğŸ” File pattern for directory migration"
          default: "*.yaml"

  config:
    rich_help_panel: true
    show_metavars_column: false
    append_metavars_help: true  
    style_errors_suggestion: true
    max_width: 120
